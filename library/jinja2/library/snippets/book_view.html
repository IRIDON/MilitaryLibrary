{% macro book_view(book_list) %}
    <section class="list">
    {% for book in book_list %}
        <div class="list__i">
            <a href="{{ url('book:detail', kwargs={'pk': book.id}) }}">
                <h3 class="list__t">{{ book.name }}</h3>
                
                {% if book.image %}
                <img class="list__img" src="{{ get_thumb(book.image, 'book_cover') }}" alt="">
                {% endif %}
            </a>
            
            {% if book.author.all() %}
            <div class="list__author">
            Автор: 
            {% for author in book.author.all() %}
                <span>{{ author }}</span>{% if not loop.last %},{% endif %}
            {% endfor %}
            </div>
            {% endif %}

            {% if book.category.all() %}
            <div class="list__cat">
            Категорія: 
            {% for category in book.category.all() %}
                <a href="{{ url('category:detail', kwargs={'slug': category.slug}) }}">
                    {{ category }}</a>{% if not loop.last %},{% endif %}
            {% endfor %}
            </div>
            {% endif %}

            {% if book.specialty.all() %}
            <div class="list__cat">
            Cпеціальність:
            {% for specialty in book.specialty.all() %}
                <a href="{{ url('specialty:detail', kwargs={'slug': specialty.slug}) }}">
                    {{ specialty }}</a>{% if not loop.last %},{% endif %}
            {% endfor %}
            </div>
            {% endif %}

            <p class="list__tx">{{ book.description|truncate(200) }}</p>
        </div>
        
        {% if loop.index is divisibleby(3) %}
        <div class="clr"></div>
        {% endif %}
    {% endfor %}
    </section>
{% endmacro %}
